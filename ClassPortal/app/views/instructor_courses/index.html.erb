<h1>Listing instructor_courses</h1>
<% @user = User.find(session[:id]) %>
<%if !params[:viewspecific]%>
    <table>
      <thead>
      <tr>
        <th>Course ID</th>
        <th>Instructor Email</th>
      </tr>
      </thead>
      <tbody>
      <% @instructor_courses.each do |instructor_course| %>
          <tr>
            <td><%= instructor_course.course_id %><br></td>
            <td><%= instructor_course.email %><br></td>
            <td><%= link_to 'Edit', instructor_course, action: :edit %></td>
            <td><%= link_to 'History', controller: 'instructor_courses', action:  'index' , :viewspecific => true , :email => instructor_course.email %></td>
            <td><%= link_to 'Destroy', instructor_course, method: :delete, data: { confirm: 'Are you sure?' } %></td>
            <!%end %>
          </tr>
      <% end %>
      </tbody>
    </table>
<%else %>
    <table>
      <thead>
      <tr>
        <th>Course ID</th>
        <th>Instructor Email</th>
      </tr>
      </thead>
      <% @user = User.find(session[:id]) %>
      <tbody>
      <% @instructor_courses.each do |instructor_course| %>
          <tr>
            <%if params[:email] == instructor_course.email %>
              <td><%= instructor_course.course_id %><br></td>
              <td><%= instructor_course.email %><br></td>
              <td><%= link_to 'Edit', instructor_course, action: :edit %></td>
              <td><%= link_to 'Destroy', instructor_course, method: :delete, data: { confirm: 'Are you sure?' } %></td>
            <%end %>
          </tr>
      <% end %>
      </tbody>
    </table>
<% end %>

<br>

<% if @user.is_admin %>
    <%= link_to('Back', :controller => 'admin' , :action => 'index')%>
<% else%>
    <%= link_to('Back', :controller => 'instructor' , :action => 'index')%>
<%end%>
