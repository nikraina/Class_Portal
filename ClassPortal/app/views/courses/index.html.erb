<div class="container">
  <center>
    <h1>All Courses</h1>
<% if !params[:instructor] and !params[:enrollment]%>
    <table class="table table-striped">
      <thead>
      <tr>
        <th>Course ID</th>
        <th>Title</th>
        <th>Is Active</th>
      </tr>
      </thead>

      <tbody>
      <% @courses.each do |course| %>
          <tr>
            <td><%= course.course_id %><br></td>
            <td><%= course.title %><br></td>
            <td><%= course.is_active %><br></td>
            <td><button type="button" class="btn btn-default navbar-btn"><%= link_to 'Show', course %></td></button>
            <td><button type="button" class="btn btn-default navbar-btn"><%= link_to 'Edit', edit_course_path(course) %></td></button>
            <td><button type="button" class="btn btn-default navbar-btn"><%= link_to 'Destroy', course, method: :delete, data: { confirm: 'Are you sure?' } %></td></button>
          </tr>
      <% end %>
      </tbody>
    </table>
<% elsif params[:instructor] and !params[:enrollment] %>
    <%@instructor_courses = InstructorCourse.find_all_by_email(params[:instructor]) %>
    <table class="table table-striped">
      <thead>
      <tr>
        <th>Course ID</th>
        <th>Is Active</th>
      </tr>
      </thead>

      <tbody>
      <% @instructor_courses.each do |instructor_course| %>
          <tr>
            <% @course = Course.find_by_course_id(instructor_course.course_id) %>
            <td><%= instructor_course.course_id %><br></td>
            <td><%= @course.is_active %><br></td>
            <td><button type="button" class="btn btn-default navbar-btn"><%= link_to 'Edit', @course , action:  'edit'  %></td></button>
            <td><!%= link_to 'Show', course %></td>
            <td><!%= link_to 'Edit', edit_course_path(course) %></td>
            <td><!%= link_to 'Destroy', course, method: :delete, data: { confirm: 'Are you sure?' } %></td>
          </tr>
      <% end %>
      </tbody>
    </table>
<% elsif params[:instructor] and params[:enrollment] %>
    <%@instructor_courses = InstructorCourse.find_all_by_email(params[:instructor]) %>
    <table class="table table-striped">
      <thead>
      <tr>
        <th>Course ID</th>
        <th>Is Active</th>
      </tr>
      </thead>

      <tbody>
      <% @instructor_courses.each do |instructor_course| %>
          <tr>
            <% @course = Course.find_by_course_id(instructor_course.course_id) %>
            <% @student_course = StudentCourse.find_all_by_course_id(instructor_course.course_id) %>
            <td><%= instructor_course.course_id %><br></td>
            <td><%= @course.is_active %><br></td>
            <!%if @course.is_active %>
                <td><button type="button" class="btn btn-default navbar-btn"><%= link_to 'Edit Enrollments', controller: 'student_courses', action:  'index' , :course => instructor_course.course_id %></td></button>
            <!% end%>
            <td><!%= link_to 'Show', course %></td>
            <td><!%= link_to 'Edit', edit_course_path(course) %></td>
            <td><!%= link_to 'Destroy', course, method: :delete, data: { confirm: 'Are you sure?' } %></td>
          </tr>
      <% end %>
      </tbody>
    </table>
<% end %>
  </center>
</div>
